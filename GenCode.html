<!DOCTYPE html>
<html>
<head>
<title>Angular Project</title>
<link rel = "stylesheet" href = "gen.css"/>
<script>		var defaultProducts = [
{id:'Prodect one',
name:'منتجات غذائية',
image:'assets/food products.png',
details:'لدينا أفضل النتجات الغذائية و بأفضل الاسعار من أفضل الماركات العالمية والمحلية',
},{id:'Prodect two',
name:'منتجات تجميلية',
image:'assets/cosmetic products.png',
details:'أفضل أنواع العطورات والمنتجات التجميلية رائحة ونعومة معاً',
},{id:'Prodect three',
name:'بيتزا الكوخ',
image:'assets/pizza.png',
details:'بيتزا خضار مع الدجاج جميع الاحجام وحسب الطلب',
},{id:'Prodect four',
name:'سلطة خضار',
image:'assets/salad.png',
details:'سلطات خضار مع الزيت البلدي',
},{id:'Prodect five',
name:'سندويش',
image:'assets/sandwich.png',
details:'لدينا كل أنواع السندويش غربي وشرقي وجاهزون لكافة الطلبات أهلا بكم في مطعمكم',
},{id:'Prodect Six',
name:'حساء',
image:'assets/soup.png',
details:'حساء بجميع أنواعه وحسب الطلب',
}]

var products = []

var selectedProduct = null

function selectProduct (product)
{
selectedProduct = product
}


function init ()
{
if (typeof window!=='undefined'&&typeof localStorage!=='undefined'){var saved = JSON.parse(localStorage.getItem('products')||'[]')
var validSaved = saved.filter((pp)=>

pp?.id&&pp?.name&&pp?.image&&pp?.details
)
products = [
...defaultProducts
,...validSaved]
}else { 
products = [
...defaultProducts
]

}}

document.addEventListener("DOMContentLoaded",init)
function deleteProduct (index)
{
var removed = products.splice(index,1)[0]

if (typeof window!=='undefined'&&typeof localStorage!=='undefined'){var currentSaved = JSON.parse(localStorage.getItem('products')||'[]')
var UpdatedSaved = currentSaved.filter((pp)=>

pp.id!==removed.id


)
localStorage.setItem('products',JSON.stringify(UpdatedSaved))}}



</script>
</head>
<body>
<div id = "app"></div>

		<img  alt = "صورة المنتج" class = "product-image"id = "ngIf2115087165" /> 
<script>
const el1604616170 = document.getElementById('ngIf2115087165') 
let lastsrc = ''
 
 const originalDisplay = window.getComputedStyle(el1604616170).display; 
function update_ngIf2115087165() 
{
if (!(selectedProduct)){ 
el1604616170.style.display = 'none';
}
 else {el1604616170.style.display = originalDisplay; } 
const newsrc= selectedProduct.image
if (newsrc!== lastsrc) 
{el1604616170.src = selectedProduct.image
lastsrc = selectedProduct.image
}document.addEventListener("click", ()=>{ 
deleteProduct()
 } 
} 
setInterval(update_ngIf2115087165,100)
</script>

</body>